---
date: 0200-01-08
category: examples
layout: examples
title: Custom image marker
description: Creating a marker with a custom image.
tags:
  - marker
  - point
  - pin
  - callout
  - popup
  - icon
  - color
  - image
notes: Download <a href="../../files/astronaut1.png">astronaut1.png</a> and <a href="../../files/astronaut2.png">astronaut2.png</a> and add them to your project.
---
@implementation MyViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    [[RMConfiguration sharedInstance] setAccessToken:@"<access token>"];

    RMMapboxSource *tileSource = [[RMMapboxSource alloc] initWithMapID:@"mapbox.emerald"];

    RMMapView *mapView = [[RMMapView alloc] initWithFrame:self.view.bounds andTilesource:tileSource];

    // you will need to add a <RMMapViewDelegate> to the ViewController.h file
    mapView.delegate = self;

    [self.view addSubview:mapView];

    // build first marker and title
    RMAnnotation *annotation1 = [[RMAnnotation alloc]
                                 initWithMapView:mapView
                                 coordinate:CLLocationCoordinate2DMake(38.913175, -77.032453)
                                 andTitle:@"Astronaut training"];

    annotation1.userInfo = @"training";

    [mapView addAnnotation:annotation1];

    // build second marker and title
    RMAnnotation *annotation2 = [[RMAnnotation alloc]
                                 initWithMapView:mapView
                                 coordinate:CLLocationCoordinate2DMake(38.911031, -77.030098)
                                 andTitle:@"Astronaut supplies"];

    annotation2.userInfo = @"supplies";

    [mapView addAnnotation:annotation2];


    // set coordinates
    CLLocationCoordinate2D center = CLLocationCoordinate2DMake(38.91235, -77.03128);

    // set zoom
    mapView.zoom = 15;

    // center the map to the coordinates
    mapView.centerCoordinate = center;

    // allows rotation
    mapView.autoresizingMask = UIViewAutoresizingFlexibleHeight |
    UIViewAutoresizingFlexibleWidth;

}

- (RMMapLayer *)mapView:(RMMapView *)mapView layerForAnnotation:(RMAnnotation *)annotation
{
    if (annotation.isUserLocationAnnotation)
        return nil;

    RMMarker *marker;

    // set 'training' marker image
    if ([annotation.userInfo isEqualToString:@"training"])
    {
        marker = [[RMMarker alloc] initWithUIImage:[UIImage imageNamed:@"astronaut2.png"]];
    }
    // set 'supplies' marker image
    else if ([annotation.userInfo isEqualToString:@"supplies"])
    {
        marker = [[RMMarker alloc] initWithUIImage:[UIImage imageNamed:@"astronaut1.png"]];
    }

    marker.canShowCallout = YES;

    return marker;
}